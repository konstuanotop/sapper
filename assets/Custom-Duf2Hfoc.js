import{a as D}from"./with-props-DzldC8Qc.js";import{a as n,o as s}from"./chunk-D4RADZKF-Db4mA--H.js";import{G as K}from"./GameZone-B1MQbY37.js";import{u as W,r as G}from"./gameSlice-BmSVuHBI.js";import"./Options-D-lrnJet.js";const $="_custom_1m7m3_1",P="_inputs_1m7m3_11",k="_gameContainer_1m7m3_48",R="_error_1m7m3_58",U="_warning_1m7m3_64",r={custom:$,inputs:P,gameContainer:k,error:R,warning:U};function J({}){return[{title:"Свой уровень"}]}const V=()=>{const[c,b]=n.useState(10),[u,S]=n.useState(10),[_,j]=n.useState(100),[v,B]=n.useState(20),[i,l]=n.useState("10"),[m,p]=n.useState("10"),[h,d]=n.useState("20"),[w,C]=n.useState(""),[E,I]=n.useState(!1),[X,y]=n.useState(!1),z=W();n.useEffect(()=>{z(G())},[z,_,v]);const M=()=>{try{const t=i===""?10:Math.max(1,Math.min(60,parseInt(i)||10)),a=m===""?10:Math.max(1,Math.min(60,parseInt(m)||10)),e=h===""?20:Math.max(1,parseInt(h)||20),o=t*a*.8,g=Math.min(e,o);parseInt(i)>60&&l("60"),parseInt(m)>60&&p("60"),b(t),S(a),B(g),j(t*a),C(""),e!==g&&d(String(g))}catch{C("Некорректные значения. Используются значения по умолчанию."),b(10),S(10),j(100),B(20),l("10"),p("10"),d("20")}},x=()=>{M()},f=t=>{t.key==="Enter"&&M()},N=(t,a)=>{const e=t.target.value;if(e===""||/^\d*$/.test(e)){const o=parseInt(e);a(e),(!o||o<=60)&&I(!1),o>60&&I(!0)}},Y=(t,a)=>{const e=t.target.value;if(e===""||/^\d*$/.test(e)){a(e),y(!1);const o=c*u*.8;parseInt(e)>o&&y(!0)}};return s.jsxs("div",{className:r.custom,children:[s.jsxs("div",{className:r.inputs,children:[s.jsxs("label",{children:["Ширина поля:",s.jsx("input",{type:"text",value:i,onChange:t=>N(t,l),onBlur:x,onKeyDown:f})]}),s.jsxs("label",{children:["Высота поля:",s.jsx("input",{type:"text",value:m,onChange:t=>N(t,p),onBlur:x,onKeyDown:f})]}),E&&s.jsx("div",{className:r.warning,children:"Максимальный размер поля: 60х60"}),s.jsxs("label",{children:["Количество бомб:",s.jsx("input",{type:"text",value:h,onChange:t=>Y(t,d),onBlur:x,onKeyDown:f})]}),X&&s.jsxs("div",{className:r.warning,children:["Максимум бомб: ",Math.floor(c*u*.8)," (80% от поля) "]}),w&&s.jsx("div",{className:r.error,children:w})]}),s.jsx("div",{className:r.gameContainer,children:s.jsx(K,{sizeX:c,sizeY:u,size:_,bombs:v})})]})},L=D(V);export{L as default,J as meta};
